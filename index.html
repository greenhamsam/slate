
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Appia API Reference</title>

    <link href="images/favicon.ico" rel="icon" type="image/ico" />

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;ruby&quot;,&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#prices" class="toc-h1 toc-link" data-title="Prices">Prices</a>
          </li>
          <li>
            <a href="#users" class="toc-h1 toc-link" data-title="Users">Users</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-users" class="toc-h2 toc-link" data-title="Get All Users">Get All Users</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-user" class="toc-h2 toc-link" data-title="Get a Specific User">Get a Specific User</a>
                  </li>
                  <li>
                    <a href="#delete-a-specific-user" class="toc-h2 toc-link" data-title="Delete a Specific User">Delete a Specific User</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#portfolios" class="toc-h1 toc-link" data-title="Portfolios">Portfolios</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-portfolios" class="toc-h2 toc-link" data-title="Get All Portfolios">Get All Portfolios</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#accounts" class="toc-h1 toc-link" data-title="Accounts">Accounts</a>
          </li>
          <li>
            <a href="#balances" class="toc-h1 toc-link" data-title="Balances">Balances</a>
          </li>
          <li>
            <a href="#events" class="toc-h1 toc-link" data-title="Events">Events</a>
          </li>
          <li>
            <a href="#assets" class="toc-h1 toc-link" data-title="Assets">Assets</a>
          </li>
          <li>
            <a href="#asset-types" class="toc-h1 toc-link" data-title="Asset Types">Asset Types</a>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Appia API. You can use our API to access Appia endpoints, which can query balances and transactions and tell you which of our users are cat people (jk, we deliberately don&#39;t know anything about our users).</p>

<p>We have language bindings in Shell, Ruby, Python, and JavaScript. BOOM. You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<p>Oh by the way, Simon Dingle has an extremely silly face. ðŸ˜œ</p>

<p><strong>To be discussed:</strong></p>

<ul>
<li>Should we call &quot;institutions&quot;, &quot;platforms&quot;?</li>
<li>Should we rather just use terms like &quot;where&quot; (institution) and &quot;what&quot; (asset)?</li>
</ul>
<h1 id='authentication'>Authentication</h1>
<p><em>Update 15 Jan 2019: not yet implemented</em></p>

<blockquote>
<p>To authorise, use this code:</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'appia'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Appia</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">appia</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">appia</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'mypersonalapikey'</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"api_endpoint_here"</span>
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">appia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"appia"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">appia</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s2">"mypersonalapikey"</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code>mypersonalapikey</code> with your API key.</p>
</blockquote>

<p>Appia uses API keys to allow access to the API. To register a new API key, buy Kenny a beer and hope that he takes pity on you.</p>

<p>Appia expects for the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code>Authorization: mypersonalapikey</code></p>

<aside class="notice">
You must replace <code>mypersonalapikey</code> with your personal API key.
</aside>
<h1 id='prices'>Prices</h1>
<p><em>Update 15 Jan 2019: implemented but not saved to a database</em></p>

<p>Price data of a set of assets / symbols (from_symbols) in a chose currency / symbol (to_symbol), gathered through our price aggregation.</p>

<p>Currently it calls the source(s) in real-time, but soon we will start caching the answers and do scheduled refreshes</p>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://api.lettuce.money/prices?to_symbol=ZAR&amp;from_symbols=BTC,USD,MSFT"</span>
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-01T00:00:01.001Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"toSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZAR"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fromSymbols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fromSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-31T11:59:01.001Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000021</span><span class="p">,</span><span class="w">
      </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Crypto Compare"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fromSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-31T11:58:01.001Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.07</span><span class="p">,</span><span class="w">
      </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Crypto Compare"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fromSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MSFT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-31T11:57:01.001Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1535.01</span><span class="p">,</span><span class="w">
      </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alpha Vantage"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='users'>Users</h1>
<p><em>Update 15 Jan 2019: implemented only in the front-ends</em></p>

<p>We do not store any personal information about our users.</p>

<p>Every user is given a unique ID when the account is created.</p>

<p>In the future, users will be able to belong to groups. This is not available in our MVP, though, so set all &quot;groups&quot; to &quot;null&quot;.</p>
<h2 id='get-all-users'>Get All Users</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'appia'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Appia</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">users</span><span class="p">.</span><span class="nf">get</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">appia</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">appia</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://example.com/api/users"</span>
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">appia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"appia"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">appia</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s2">"mypersonalapikey"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">users</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
    </span><span class="s2">"groups"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"baseCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZAR"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"baseCurrencySymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"R"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastActivity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:43.511Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"latestBalance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">203232.39</span><span class="p">,</span><span class="w">
      </span><span class="s2">"debitOrCredit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debit"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZAR"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:43.511Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22345679</span><span class="p">,</span><span class="w">
    </span><span class="s2">"groups"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"baseCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"baseCurrencySymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Éƒ"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastActivity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-04-23T18:25:43.511Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"latestBalance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.39</span><span class="p">,</span><span class="w">
      </span><span class="s2">"debitOrCredit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debit"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:43.511Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all users.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET http://inves.technology/api/users</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>include_deleted</td>
<td>false</td>
<td>If set to true, the result will also include deleted users.</td>
</tr>
</tbody></table>
<h2 id='get-a-specific-user'>Get a Specific User</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'appia'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Appia</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">users</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">12345678</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">appia</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">appia</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">12345678</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://inves.technology/users/212345678"</span>
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">appia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"appia"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">appia</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s2">"mypersonalapikey"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">max</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">12345678</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
  </span><span class="s2">"groups"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"baseCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZAR"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"baseCurrencySymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"R"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastActivity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:43.511Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"latestBalance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">203232.39</span><span class="p">,</span><span class="w">
    </span><span class="s2">"debitOrCredit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debit"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZAR"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:43.511Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a specific user.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET http://inves.technology/users/&lt;ID&gt;</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the user to retrieve</td>
</tr>
</tbody></table>
<h2 id='delete-a-specific-user'>Delete a Specific User</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'appia'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Appia</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">users</span><span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="mi">12345678</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">appia</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">appia</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">12345678</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://inves.technology/api/users/12345678"</span>
  -X DELETE
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">appia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"appia"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">appia</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s2">"mypersonalapikey"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">max</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="mi">12345678</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
  </span><span class="s2">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint deletes a specific user.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>DELETE http://inves.technology/users/&lt;ID&gt;</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the user to delete</td>
</tr>
</tbody></table>
<h1 id='portfolios'>Portfolios</h1>
<p><em>Update 15 Jan 2019: not yet implemented</em></p>

<p>A user can have multiple portfolios. A portfolio is a collection of accounts. By defualt, every user has 1 portfolio called &quot;My Moneh&quot;.</p>

<p>Users can add up to 3 portfolios on the free tier, and can add up to 100 portfolios on the paid tier (TBC).</p>

<p>NOTE:</p>

<ul>
<li>Should be able to retrieve all portfolios for a single user.</li>
<li>In the future, a portfolio could belong to a group.</li>
</ul>
<h2 id='get-all-portfolios'>Get All Portfolios</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'appia'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Appia</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">portfolios</span><span class="p">.</span><span class="nf">get</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">appia</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">appia</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">portfolios</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://example.com/api/portfolios"</span>
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">appia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"appia"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">appia</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s2">"mypersonalapikey"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">portfolios</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">portfolios</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Moneh"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">2392392</span><span class="p">,</span><span class="w"> </span><span class="mi">2301938</span><span class="p">,</span><span class="w"> </span><span class="mi">2938218</span><span class="p">],</span><span class="w">
    </span><span class="s2">"latestBalance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.39</span><span class="p">,</span><span class="w">
      </span><span class="s2">"debitOrCredit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debit"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:43.511Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345679</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Genesis Mining Income"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">2392393</span><span class="p">,</span><span class="w"> </span><span class="mi">2301938</span><span class="p">],</span><span class="w">
    </span><span class="s2">"latestBalance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.39</span><span class="p">,</span><span class="w">
      </span><span class="s2">"debitOrCredit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debit"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:43.511Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all portfolios.</p>
<h1 id='accounts'>Accounts</h1>
<p><em>Update 15 Jan 2019: implemented on the front-ends only</em></p>

<p>An account has a <strong>balance</strong>. A balance is a record of the current <strong>state</strong> of the account. An account can only have one type of asset inside it. That asset could be a currency, cryptocurrency, units of a fund, value of a house, or many other things. You cannot have a single account that is made up of two different currencies - as far as our system is concerned, those are two different accounts. It might, however, be helpful to sometimes group similar accounts for our users.</p>

<p>An account is <strong>somewhere</strong>, usually at an institution (e.g. Luno, Barclays) but sometimes on a paper wallet or in the deeds office (if I own a house). For consistency, our data structure will refer to all of these &quot;wheres&quot; as <strong>institutions</strong> even if it&#39;s a leather wallet in the user&#39;s backpack.</p>

<p>All balances are made up of a <strong>quantity</strong> of an <strong>asset</strong> that has a <strong>current price</strong> in the user&#39;s <strong>base currency</strong>. The quantity is the result of the sum of transactions that occured on an account.</p>

<p>Sometimes we know a lot about an account, so we can derive the <strong>current balance</strong> ourselves. For instance, say I have an account with Luno, and I own 10 ETH and 2 Bitcoins on that platform. I like to see everything converted back to South African Rands (this is my base currency). The price of BTC at this moment is R 90,000 and the price of ETH is R 2 000. Appia sees this as me having two accounts:</p>

<ol>
<li>A Luno (<strong>institution</strong>) ETH (<strong>asset</strong>) account with a <strong>quantity</strong> of 10 at a <strong>current price</strong> in my <strong>base currency</strong> of R 2 000. The <strong>balance</strong> of my account is therefore R 20 000. The <strong>asset type</strong> is &quot;cryptocurrency&quot;.</li>
<li>A Luno (<strong>institution</strong>) BTC (<strong>asset</strong>) account with a <strong>quantity</strong> of 2 at a <strong>current price</strong> in my <strong>base currency</strong> of R 90 000. The <strong>balance</strong> of my account is therefore R 180 000. The <strong>asset type</strong> is &quot;cryptocurrency&quot;.</li>
</ol>

<p>Say I also have an international share portfolio through EasyEquities. I own 15 shares in the S&amp;P 500 that are worth R 100 each, and 3 shares of Netflix that are worth R 50 each. IF I am able to scrape all of this data with Appia, then Appia will see this as 2 accounts:</p>

<ol>
<li>A EasyEquities (<strong>institution</strong>) S&amp;P 500 (<strong>asset</strong>) account with a <strong>quantity</strong> of 15 at a <strong>current price</strong> in my <strong>base currency</strong> of R 100. The <strong>balance</strong> of my account is therefore R 1 500. The <strong>asset type</strong> is &quot;international equities&quot;.</li>
<li>A EasyEquities (<strong>institution</strong>) Netflix (<strong>asset</strong>) account with a <strong>quantity</strong> of 3 at a <strong>current price</strong> in my <strong>base currency</strong> of R 50. The <strong>balance</strong> of my account is therefore R 150. The <strong>asset type</strong> is &quot;international equities&quot;.</li>
</ol>

<p>However, I may not be able to get this level of detail back from EasyEquities. In that case, Appia might see this as one account that we don&#39;t know a lot about:</p>

<ol>
<li>A EasyEquities (<strong>institution</strong>) account with a <strong>balance</strong> of R 1 650. I might know that the <strong>asset type</strong> is &quot;international equities&quot; but I may not know exactly what assets are held in that account.</li>
</ol>

<p>Sometimes the <strong>asset</strong> held in a user&#39;s <strong>account</strong> will be identical to their <strong>base currency</strong>. It is still important to track the <strong>quantity</strong> separately to the <strong>balance</strong> where possible, though, because the user can change their <strong>base currency</strong> at any time.</p>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'appia'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Appia</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">accounts</span><span class="p">.</span><span class="nf">get</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">appia</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">appia</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">accounts</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://example.com/api/accounts"</span>
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">appia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"appia"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">appia</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s2">"mypersonalapikey"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">accounts</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
    </span><span class="s2">"where"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ledger Nano"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tracked"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Can</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="s2">"tracked"</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="s2">"manual"</span><span class="p">,</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">future</span><span class="w"> </span><span class="err">releases</span><span class="p">,</span><span class="w"> </span><span class="err">could</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="s2">"linked"</span><span class="w">
    </span><span class="s2">"assetSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"assetName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ethereum"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"assetType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cryptocurrency"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"portfolios"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="err">//</span><span class="w"> </span><span class="err">Optional</span><span class="p">:</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">listed</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="err">portfolios</span><span class="w">
      </span><span class="mi">129302</span><span class="p">,</span><span class="w">
      </span><span class="mi">230199</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"latestBalance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"debitOrCredit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debit"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">In</span><span class="w"> </span><span class="err">that</span><span class="w"> </span><span class="err">user's</span><span class="w"> </span><span class="err">base_currency</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.39</span><span class="p">,</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">20.9</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZAR"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:43.511Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Crypto Compare"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345679</span><span class="p">,</span><span class="w">
    </span><span class="s2">"where"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tracked"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Can</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="s2">"tracked"</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="s2">"manual"</span><span class="p">,</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">future</span><span class="w"> </span><span class="err">releases</span><span class="p">,</span><span class="w"> </span><span class="err">could</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="s2">"linked"</span><span class="w">
    </span><span class="s2">"assetSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VOD.JS"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"assetName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Vodacom South Africa"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"assetType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"equity"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"latestBalance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">20.9</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">For</span><span class="w"> </span><span class="err">some</span><span class="w"> </span><span class="err">accounts</span><span class="p">,</span><span class="w"> </span><span class="err">we</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">return</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">value</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZAR"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:43.511Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alpha Vantage"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345674</span><span class="p">,</span><span class="w">
    </span><span class="s2">"where"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Botswana"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"manual"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Can</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="s2">"tracked"</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="s2">"manual"</span><span class="p">,</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">future</span><span class="w"> </span><span class="err">releases</span><span class="p">,</span><span class="w"> </span><span class="err">could</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="s2">"linked"</span><span class="w">
    </span><span class="s2">"assetSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZAR"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"assetName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4 cows"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"assetType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"manual"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"latestBalance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZAR"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:43.511Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"manual"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h1 id='balances'>Balances</h1>
<p><em>Update 15 Jan 2019: not yet implemented</em></p>

<p>The historical and current balance of each user for each account, portfolio, and user overall. These balances are calculated at midnight for each user and stored historically. Today&#39;s balance is stored temporarily in this database if it&#39;s requested by a front-end, but it is over-written at midnight.</p>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'appia'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Appia</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">balances</span><span class="p">.</span><span class="nf">get</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">appia</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">appia</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">balances</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://example.com/api/balances"</span>
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">appia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"appia"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">appia</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s2">"mypersonalapikey"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">balances</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">balances</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Can</span><span class="w"> </span><span class="err">we</span><span class="w"> </span><span class="err">rather</span><span class="w"> </span><span class="err">use</span><span class="w"> </span><span class="err">User-Date</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">primary</span><span class="w"> </span><span class="err">key?</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
    </span><span class="s2">"day"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20180812"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"baseCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="err">values</span><span class="w"> </span><span class="err">below</span><span class="w"> </span><span class="err">are</span><span class="w"> </span><span class="err">expressed</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">baseCurrency</span><span class="w">
    </span><span class="s2">"totalBalance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">39293.29</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"portfolioBalances"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"portfolio"</span><span class="p">:</span><span class="w"> </span><span class="mi">230293</span><span class="p">,</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">239.23</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"portfolio"</span><span class="p">:</span><span class="w"> </span><span class="mi">330293</span><span class="p">,</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">-2939.29</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"accountBalances"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"manual"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">230293</span><span class="p">,</span><span class="w">
        </span><span class="s2">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">29293.23</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"manual"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">320323</span><span class="p">,</span><span class="w">
        </span><span class="s2">"asset"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">3923.23</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h1 id='events'>Events</h1>
<p><em>Update 15 Jan 2019: not yet implemented</em></p>

<p>A log of all of the events that change the values of any account in the system. What occured, at what time, for what user. These events are things like: a transaction or trade was initiated, processed, rejected, failed or reversed. A new account was created or deleted.</p>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'appia'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Appia</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">events</span><span class="p">.</span><span class="nf">get</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">appia</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">appia</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://example.com/api/events"</span>
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">appia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"appia"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">appia</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s2">"mypersonalapikey"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">events</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:43.511Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New account linked"</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">More</span><span class="w"> </span><span class="err">events</span><span class="w"> </span><span class="err">//</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h1 id='assets'>Assets</h1>
<p><em>Update 15 Jan 2019: not yet implemented</em></p>

<p>A dictionary of all available assets.</p>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'appia'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Appia</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">assets</span><span class="p">.</span><span class="nf">get</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">appia</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">appia</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://example.com/api/assets"</span>
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">appia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"appia"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">appia</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s2">"mypersonalapikey"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">users</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">assets</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ethereum"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"assetType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cryptocurrency"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"displaySymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Îž"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United States"</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">More</span><span class="w"> </span><span class="err">assets</span><span class="w"> </span><span class="err">//</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h1 id='asset-types'>Asset Types</h1>
<p><em>Update 15 Jan 2019: not yet implemented</em></p>

<p>A dictionary of all available asset types, and arrays of the asset symbols included in that type.</p>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'appia'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Appia</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">assetTypes</span><span class="p">.</span><span class="nf">get</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">appia</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">appia</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">assetTypes</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://example.com/api/assetTypes"</span>
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">appia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"appia"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">appia</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s2">"mypersonalapikey"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">assetTypes</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">assetTypes</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"assetType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cryptocurrency"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"assets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"ETH"</span><span class="p">,</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w"> </span><span class="s2">"LTC"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">More</span><span class="w"> </span><span class="err">asset</span><span class="w"> </span><span class="err">types</span><span class="w"> </span><span class="err">//</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h1 id='errors'>Errors</h1>
<p><em>Update 15 Jan 2019: not yet implemented</em></p>

<p>The Appia API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- You do not have the right permissions to view this record.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified record could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a record with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The record requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot!</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many things! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
