
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Appia API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;ruby&quot;,&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#users" class="toc-h1 toc-link" data-title="Users">Users</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-users" class="toc-h2 toc-link" data-title="Get All Users">Get All Users</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-user" class="toc-h2 toc-link" data-title="Get a Specific User">Get a Specific User</a>
                  </li>
                  <li>
                    <a href="#delete-a-specific-user" class="toc-h2 toc-link" data-title="Delete a Specific User">Delete a Specific User</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#groups" class="toc-h1 toc-link" data-title="Groups">Groups</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-groups" class="toc-h2 toc-link" data-title="Get All Groups">Get All Groups</a>
                  </li>
                  <li>
                    <a href="#get-members-belonging-to-a-specific-group" class="toc-h2 toc-link" data-title="Get members belonging to a specific group">Get members belonging to a specific group</a>
                  </li>
                  <li>
                    <a href="#delete-a-user-from-a-group" class="toc-h2 toc-link" data-title="Delete a User from a Group">Delete a User from a Group</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#transactions" class="toc-h1 toc-link" data-title="Transactions">Transactions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-transactions" class="toc-h2 toc-link" data-title="Get All Transactions">Get All Transactions</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-transaction" class="toc-h2 toc-link" data-title="Get a Specific Transaction">Get a Specific Transaction</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#user-balances" class="toc-h1 toc-link" data-title="User balances">User balances</a>
          </li>
          <li>
            <a href="#value-stores" class="toc-h1 toc-link" data-title="Value stores">Value stores</a>
          </li>
          <li>
            <a href="#trades" class="toc-h1 toc-link" data-title="Trades">Trades</a>
          </li>
          <li>
            <a href="#assets" class="toc-h1 toc-link" data-title="Assets">Assets</a>
          </li>
          <li>
            <a href="#supplier-prices" class="toc-h1 toc-link" data-title="Supplier prices">Supplier prices</a>
          </li>
          <li>
            <a href="#inves-prices" class="toc-h1 toc-link" data-title="Inves prices">Inves prices</a>
          </li>
          <li>
            <a href="#suppliers" class="toc-h1 toc-link" data-title="Suppliers">Suppliers</a>
          </li>
          <li>
            <a href="#events" class="toc-h1 toc-link" data-title="Events">Events</a>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Appia API. You can use our API to access Appia endpoints, which can query balances and transactions and tell you which of our users are cat people.</p>

<p>We have language bindings in Shell, Ruby, Python, and JavaScript. BOOM. You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<p>Oh by the way, Simon Dingle has an extremely silly face. ðŸ˜œ</p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>To authorise, use this code:</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'appia'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Appia</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">appia</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">appia</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'mypersonalapikey'</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"api_endpoint_here"</span>
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">appia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'appia'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">appia</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code>mypersonalapikey</code> with your API key.</p>
</blockquote>

<p>Appia uses API keys to allow access to the API. To register a new API key, buy Kenny a beer and hope that he takes pity on you.</p>

<p>Appia expects for the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code>Authorization: mypersonalapikey</code></p>

<aside class="notice">
You must replace <code>mypersonalapikey</code> with your personal API key.
</aside>
<h1 id='users'>Users</h1><h2 id='get-all-users'>Get All Users</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'appia'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Appia</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">users</span><span class="p">.</span><span class="nf">get</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">appia</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">appia</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://example.com/api/users"</span>
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">appia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'appia'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">appia</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">users</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sam Beckbessinger"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sam@inves.technology"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"group"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inves Club"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastActivity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:43.511Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kyc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"not required"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22345678</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simon Dingle"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"simon@inves.technology"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"group"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastActivity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-04-23T18:25:43.511Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kyc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"not required"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all users.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET http://inves.technology/api/users</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>include_deleted</td>
<td>false</td>
<td>If set to true, the result will also include deleted users.</td>
</tr>
</tbody></table>
<h2 id='get-a-specific-user'>Get a Specific User</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'appia'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Appia</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">users</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">12345678</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">appia</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">appia</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">12345678</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://inves.technology/users/2"</span>
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">appia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'appia'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">appia</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">max</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">12345678</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sam Beckbessinger"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sam@inves.technology"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"group"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inves Club"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastActivity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:43.511Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"kyc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"not required"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a specific user.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET http://inves.technology/users/&lt;ID&gt;</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the user to retrieve</td>
</tr>
</tbody></table>
<h2 id='delete-a-specific-user'>Delete a Specific User</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'appia'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Appia</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">users</span><span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="mi">12345678</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">appia</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">appia</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">12345678</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://inves.technology/api/users/12345678"</span>
  -X DELETE
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">appia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'appia'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">appia</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">max</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="mi">12345678</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
  </span><span class="s2">"deleted"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint deletes a specific user.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>DELETE http://inves.technology/users/&lt;ID&gt;</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the user to delete</td>
</tr>
</tbody></table>
<h1 id='groups'>Groups</h1>
<p>Groups are collections of users who have special defaults applied to them, for instance, they may share a portfolio strategy or be part of the same fund.</p>
<h2 id='get-all-groups'>Get All Groups</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'appia'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Appia</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">groups</span><span class="p">.</span><span class="nf">get</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">appia</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">appia</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://example.com/api/groups"</span>
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">appia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'appia'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">appia</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">groups</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">groups</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inves Club"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"members"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
      </span><span class="mi">22345678</span><span class="p">,</span><span class="w">
      </span><span class="mi">32345678</span><span class="p">,</span><span class="w">
      </span><span class="mi">42345678</span><span class="p">,</span><span class="w">
      </span><span class="mi">52345678</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lettuce"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"members"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
      </span><span class="mi">32345678</span><span class="p">,</span><span class="w">
      </span><span class="mi">92345678</span><span class="p">,</span><span class="w">
      </span><span class="mi">11345678</span><span class="p">,</span><span class="w">
      </span><span class="mi">22345678</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all groups.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET http://inves.technology/api/groups</code></p>
<h2 id='get-members-belonging-to-a-specific-group'>Get members belonging to a specific group</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'appia'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Appia</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">groups</span><span class="p">.</span><span class="nf">members</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">12345678</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">appia</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">appia</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">groups</span><span class="o">.</span><span class="n">members</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">12345678</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://inves.technology/groups/members/12345678"</span>
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">appia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'appia'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">appia</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">max</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">groups</span><span class="p">.</span><span class="nx">members</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">12345678</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"members"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
    </span><span class="mi">32345678</span><span class="p">,</span><span class="w">
    </span><span class="mi">92345678</span><span class="p">,</span><span class="w">
    </span><span class="mi">11345678</span><span class="p">,</span><span class="w">
    </span><span class="mi">22345678</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves members belonging to a specific group.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET http://inves.technology/groups/members/&lt;ID&gt;</code></p>
<h3 id='url-parameters-3'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the group to retrieve members from</td>
</tr>
</tbody></table>
<h2 id='delete-a-user-from-a-group'>Delete a User from a Group</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'appia'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Appia</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">groups</span><span class="p">.</span><span class="nf">members</span><span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="mi">22345678</span><span class="p">,</span> <span class="mi">32345678</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">appia</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">appia</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">groups</span><span class="o">.</span><span class="n">members</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">22345678</span><span class="p">,</span> <span class="mi">32345678</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://inves.technology/api/groups/members/22345678&amp;32345678"</span>
  -X DELETE
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">appia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'appia'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">appia</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">max</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">groups</span><span class="p">.</span><span class="nx">members</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="mi">22345678</span><span class="p">,</span> <span class="mi">32345678</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">32345678</span><span class="p">,</span><span class="w">
  </span><span class="s2">"deleted"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint deletes a specific user from a group. That user is deleted only from the group.</p>

<aside class="notice">
Always list the group ID first, then the user ID.
</aside>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>DELETE http://inves.technology/groups/members/&lt;GROUP_ID&gt;&amp;&lt;USER_ID&gt;</code></p>
<h3 id='url-parameters-4'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>GROUP_ID</td>
<td>The ID of the group to delete the user from</td>
</tr>
<tr>
<td>USER_ID</td>
<td>The ID of the user to delete</td>
</tr>
</tbody></table>
<h1 id='transactions'>Transactions</h1>
<p>Transactions are created either from an instruction from a user (e.g. through contributions or withdrawals), or are incurred automatically through fees or rebalancing. </p>

<p>Most transactions recorded in our system are likely to be transfers between one currency type and another. More traditional send and receive transactions need to be supported too, though.</p>

<p>Transactions go through many states which are recorded in the Events log (see below). Only the current state of the transaction is recorded in this database.</p>

<p>Transactions refer to user transactions only. They change values in the ledger but do not actually move underlying assets between accounts. The movement of real assets is referred to as a Trade, in our world.
<em>(This assumes that we&#39;re going with an omnnibus accounts model. If we decide differently, we will need to redesign this.)</em></p>
<h2 id='get-all-transactions'>Get All Transactions</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'appia'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Appia</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">transactions</span><span class="p">.</span><span class="nf">get</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">appia</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">appia</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'mypersonalapikey'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">transactions</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://example.com/api/transactions"</span>
  -H <span class="s2">"Authorization: mypersonalapikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">appia</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'appia'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">appia</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'mypersonalapikey'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">users</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">transactions</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">[</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">A</span><span class="w"> </span><span class="err">user</span><span class="w"> </span><span class="err">buys</span><span class="w"> </span><span class="err">ETH</span><span class="w"> </span><span class="err">using</span><span class="w"> </span><span class="err">BTC</span><span class="w"> </span><span class="err">using</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Lettuce</span><span class="w"> </span><span class="err">iOS</span><span class="w"> </span><span class="err">app</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10239201</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10239201</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chloe Coetzee"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"purchase"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processed"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Could</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="s2">"instructed"</span><span class="p">,</span><span class="w"> </span><span class="s2">"quoted"</span><span class="p">,</span><span class="w"> </span><span class="s2">"rejected"</span><span class="p">,</span><span class="w"> </span><span class="s2">"failed"</span><span class="w">
    </span><span class="s2">"dateCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:43.511Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dateProcessed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:44.511Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lettuce iOS app"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Could</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="s2">"Automatic rebalancing"</span><span class="w">
    </span><span class="s2">"fromCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"toCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sold"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"debitOrCredit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debit"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.203920992</span><span class="p">,</span><span class="w">
      </span><span class="s2">"denomination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"bought"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"debitOrCredit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.302992</span><span class="p">,</span><span class="w">
      </span><span class="s2">"denomination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"fees"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"debitOrCredit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debit"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0004</span><span class="p">,</span><span class="w">
      </span><span class="s2">"denomination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Would</span><span class="w"> </span><span class="err">fees</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">just</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">built</span><span class="w"> </span><span class="err">into</span><span class="w"> </span><span class="err">our</span><span class="w"> </span><span class="err">quoted</span><span class="w"> </span><span class="err">price?</span><span class="w">
    </span><span class="s2">"trade"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10239201</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">If</span><span class="w"> </span><span class="err">there</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">related</span><span class="w"> </span><span class="err">Trade</span><span class="p">,</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">links</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Trade</span><span class="w"> </span><span class="err">database</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">A</span><span class="w"> </span><span class="err">user</span><span class="w"> </span><span class="err">funds</span><span class="w"> </span><span class="err">her</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">with</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">credit</span><span class="w"> </span><span class="err">card</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10239201</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10239201</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chloe Coetzee"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card payment"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dateCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:43.511Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dateProcessed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:44.511Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lettuce iOS app"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"toCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bought"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"debitOrCredit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2000.05</span><span class="p">,</span><span class="w">
      </span><span class="s2">"denomination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"fees"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"debitOrCredit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debit"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.04</span><span class="p">,</span><span class="w">
      </span><span class="s2">"denomination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"trade"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10239201</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">There</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">related</span><span class="w"> </span><span class="err">incoming</span><span class="w"> </span><span class="err">GBP</span><span class="w"> </span><span class="err">transaction</span><span class="w"> </span><span class="err">into</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Inves</span><span class="w"> </span><span class="err">Revolut</span><span class="w"> </span><span class="err">account</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10239201</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nickname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FNB credit card"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cardNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">33333333333333</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nameOnCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C Coetzee"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"expiryMonth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"expiryYear"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"securityCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">302</span><span class="p">,</span><span class="w">
      </span><span class="s2">"issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Does</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">rather</span><span class="w"> </span><span class="err">belong</span><span class="w"> </span><span class="err">under</span><span class="w"> </span><span class="err">Trades?</span><span class="w"> </span><span class="err">Or</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">its</span><span class="w"> </span><span class="err">own</span><span class="w"> </span><span class="err">database?</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">A</span><span class="w"> </span><span class="err">user</span><span class="w"> </span><span class="err">withdraws</span><span class="w"> </span><span class="err">GBP</span><span class="w"> </span><span class="err">from</span><span class="w"> </span><span class="err">her</span><span class="w"> </span><span class="err">account</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10239201</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10239201</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chloe Coetzee"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"withdrawal"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processed"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Could</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="s2">"instructed"</span><span class="p">,</span><span class="w"> </span><span class="s2">"quoted"</span><span class="p">,</span><span class="w"> </span><span class="s2">"rejected"</span><span class="p">,</span><span class="w"> </span><span class="s2">"failed"</span><span class="w">
    </span><span class="s2">"dateCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:43.511Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dateProcessed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-23T18:25:44.511Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lettuce iOS app"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fromCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sold"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"debitOrCredit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debit"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">20392.02</span><span class="p">,</span><span class="w">
      </span><span class="s2">"denomination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"fees"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"debitOrCredit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debit"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4</span><span class="p">,</span><span class="w">
      </span><span class="s2">"denomination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Would</span><span class="w"> </span><span class="err">fees</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">just</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">built</span><span class="w"> </span><span class="err">into</span><span class="w"> </span><span class="err">our</span><span class="w"> </span><span class="err">quoted</span><span class="w"> </span><span class="err">price?</span><span class="w">
    </span><span class="s2">"trade"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10239201</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">There</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">related</span><span class="w"> </span><span class="err">outgoing</span><span class="w"> </span><span class="err">GBP</span><span class="w"> </span><span class="err">transaction</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"bankAccount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Does</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">rather</span><span class="w"> </span><span class="err">belong</span><span class="w"> </span><span class="err">under</span><span class="w"> </span><span class="err">Trades?</span><span class="w"> </span><span class="err">In</span><span class="w"> </span><span class="err">its</span><span class="w"> </span><span class="err">own</span><span class="w"> </span><span class="err">database?</span><span class="w">
      </span><span class="s2">"bank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FNB"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"branch"</span><span class="p">:</span><span class="w"> </span><span class="mi">2392002</span><span class="p">,</span><span class="w">
      </span><span class="s2">"accountNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">293938393093</span><span class="p">,</span><span class="w">
      </span><span class="s2">"accountHolder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chloe Coetzee"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nickname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My favourite bank account"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all transactions.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET http://inves.technology/api/transactions</code></p>
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>only_processed</td>
<td>false</td>
<td>If set to true, only transactions with a processed state will be returned</td>
</tr>
</tbody></table>
<h2 id='get-a-specific-transaction'>Get a Specific Transaction</h2><h3 id='http-request-8'>HTTP Request</h3>
<p><code>GET http://inves.technology/transactions/&lt;ID&gt;</code></p>
<h3 id='url-parameters-5'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the transaction to retrieve</td>
</tr>
</tbody></table>
<h1 id='user-balances'>User balances</h1>
<p>Accounts per currency type
Cards you load will have an account ID
External bank accounts you load will have an account ID
&quot;type&quot;: &quot;internal&quot; or &quot;linked&quot;
&quot;denomination&quot;: &quot;ZAR&quot;, &quot;BTC&quot;, &quot;ETH&quot; etc.</p>

<p>&quot;account&quot;: {
        &quot;id&quot;: 230392929,
        &quot;description&quot;: &quot;Luno wallet&quot;,
        &quot;status&quot;: &quot;verified&quot;,
        &quot;type&quot;: &quot;external crypto&quot;,
        &quot;denomination&quot;: &quot;BTC&quot;,
        &quot;address&quot;: &quot;1BoatSLRHtKNngkdXEeobR76b53LETtpyT&quot;
      }
    &quot;blockchainId&quot;: &quot;5409ab60f51112d2652f136d15a37db1d3257c979e6091db4c4f1a9e2c9c0272&quot;,
    &quot;dateCreated&quot;: &quot;2012-04-23T18:25:43.511Z&quot;,
    &quot;dateProcessed&quot;: &quot;2012-04-23T18:25:44.511Z&quot;
  },</p>
<h1 id='value-stores'>Value stores</h1>
<p>The real accounts where different assets are stored. This database could also be called &quot;Inves Accounts&quot;.</p>
<h1 id='trades'>Trades</h1>
<p>All of the inter-asset trades that Inves makes on our Supplier platforms. These change the real underlying assets in our value store accounts. Trades are also where we move money between different value store accounts. This database could also be called &quot;Inves Transactions&quot;.</p>
<h1 id='assets'>Assets</h1>
<p>All of the asset types that we carry and their latest quoted best price from a supplier, and the most recently Inves quoted price for that asset.</p>
<h1 id='supplier-prices'>Supplier prices</h1>
<p>The historical price data of all assets that we store from various suppliers who supply our cryptocurrency assets.</p>
<h1 id='inves-prices'>Inves prices</h1>
<p>The historical prices Inves has set for each asset.</p>
<h1 id='suppliers'>Suppliers</h1>
<p>All of the places where Inves Technology buys cryptocurrency assets from, like Binance or Cumberland.</p>
<h1 id='events'>Events</h1>
<p>A log of all of the events that change the values of any account in the system. What occured, at what time. These events are things like: a transaction or trade was initiated, processed, rejected, failed or reversed. A new account was created or deleted.</p>
<h1 id='errors'>Errors</h1>
<p>The Appia API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The user requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified user could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a user with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The user requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot!</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many users! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
